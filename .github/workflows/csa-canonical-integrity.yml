- name: Verify canonical governance files exist
  run: |
    set -e

    REQUIRED_FILES=(
      "README.md"
      "GOVERNANCE.md"
      "LICENSE.md"
      "CITATION.cff"
    )

    for file in "${REQUIRED_FILES[@]}"; do
      if [ ! -f "$file" ]; then
        echo "Missing required file: $file"
        exit 1
      fi
    done

    echo "All required canonical files are present."

- name: Verify DOI is referenced in README
  run: |
    DOI="10.5281/zenodo.18058175"
    if ! grep -q "$DOI" README.md; then
      echo "DOI not found in README.md"
      exit 1
    fi

    echo "DOI reference verified."
